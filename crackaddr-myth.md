The Myth of Crackaddr in CGC
============================
Was the "crackaddr" bug cracked during CGC?
The CROMU\_00098 service included a reproduction of the "crackaddr" bug,
which could lead to an overwrite of a return pointer in the stack.  Shellphish
deployed a PoV that exploited this vulnerability.  This note explores whether the
competitor interaction with the crackaddr service was any more noteworthy than any
other successful PoV or defense fielded during the competition.

# Defense #
Shellphish fielded an RCB during several rounds that would have blocked the 
CB author's reference PoV as well as Shellphish's own PoV.  However, this RCB
appears to only contain generic defenses applied to many of the service functions, 
e.g., execution control flow protections,
and these same defenses were deployed by Shellphish for most of their services.
This RCB was deployed ten rounds prior to Shellphish throwing their successful PoV.
Furthermore, (for no apparent reason), they pulled the RCB and reverted to the reference service after five
rounds -- which was four rounds prior to their PoV.  

Shellphish deployed RCBs preemptively throughout the CGC.  There is no
evidence or reason to believe that their CRS deployed their RCB for 
CROMU\_00098 in response to finding a bug.

To claim that Shellphish patched the crackaddr bug is akin to claiming that: "stack cookies solve the
crackaddr problem!"  True in a way, but not interesting. 

# The PoV #
The crackaddr bug is noteworthy because it presents a problem for static analysis
and automated program analysis tools, e.g, symbolic execution.  I see no indication from the literature that
anyone suggests the bug is resilient to fuzzing.  The CGC service vulnerability is exploited by
a email header that contains repeating occurrences of "C" and "c" (which simulate open/close brackets).
The Shellphish PoV appears to have been generated by a fuzzer, and Shellphish's post-event
publications indicate they used AFL coupled with symbolic execution.  The PoV contains
a repeating portion of an email header, which contains the characters "C" and "c".    
That a fuzzer would generate repeating patterns is not surprising.  

It is possible that the Shellphish symbolic execution engine contributed to their creation of an exploit
for this service.  However, there is no evidence (and no claim from Shellphish) that it did so in a manner
that advances our understanding of the problems that make crackaddr noteworthy.  The more likely explaination
is that AFL took a segment of PCAP input and repeated it multiple times in the input stream, (with some 
data mutation.)  This happened to include the desired ascii characters, leading to a crash due to the
overwritten stack pointer.  Their CRS then turned the crash into a Type 1 PoV.

